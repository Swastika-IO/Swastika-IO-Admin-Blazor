/*!
 * tui-editor
 * @version 1.0.1
 * @author NHN Ent. FE Development Lab <dl_javascript@nhnent.com> (https://nhnent.github.io/tui.editor/)
 * @license MIT
 */
!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t(require("jquery"),require("tui-code-snippet"),function(){try{return require("tui-editor")}catch(e){}}(),function(){try{return require("tui-editor/dist/tui-editor-Viewer")}catch(e){}}(),require("toMark"));else if("function"==typeof define&&define.amd)define(["jquery","tui-code-snippet","tui-editor","tui-editor/dist/tui-editor-Viewer","toMark"],t);else{var n="object"==typeof exports?t(require("jquery"),require("tui-code-snippet"),function(){try{return require("tui-editor")}catch(e){}}(),function(){try{return require("tui-editor/dist/tui-editor-Viewer")}catch(e){}}(),require("toMark")):t(e.$,e.tui&&e.tui.util,e.tui&&e.tui.Editor,e.tui&&e.tui.Editor,e.toMark);for(var a in n)("object"==typeof exports?exports:e)[a]=n[a]}}("undefined"!=typeof self?self:this,function(e,t,n,a,r){return function(e){function t(a){if(n[a])return n[a].exports;var r=n[a]={i:a,l:!1,exports:{}};return e[a].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,a){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:a})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="dist/",t(t.s=49)}([function(t,n){t.exports=e},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=void 0;try{a=n(4)}catch(e){}if(!a)try{a=n(5)}catch(e){}t.default=a},function(e,n){e.exports=t},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n){var a=(0,w.default)(e),r=a.attr("colspan"),o=a.attr("rowspan"),l=e.nodeName;if("TH"!==l&&"TD"!==l)return null;var u={nodeName:e.nodeName,colspan:r?parseInt(r,10):1,rowspan:o?parseInt(o,10):1,content:a.html(),elementIndex:{rowIndex:t,colIndex:n}};return"TH"===e.nodeName&&e.align&&(u.align=e.align),u}function o(e,t,n,a){var r=t.colspan,o=t.rowspan,l=t.nodeName,u=r>1,i=o>1;if(u||i){var d=n+o,c=a+r;y.default.range(n,d).forEach(function(t){e[t]=e[t]||[],y.default.range(a,c).forEach(function(r){var o={nodeName:l};t===n&&r===a||(u&&(o.colMergeWith=a),i&&(o.rowMergeWith=n),e[t][r]=o)})})}}function l(e){var t=[];return e.find("tr").each(function(e,n){var a=0;t[e]=t[e]||[],(0,w.default)(n).children().each(function(n,l){var u=r(l,e,n);if(u){for(var i=n+a;t[e][i];)i+=1,a+=1;t[e][i]=u,o(t,u,e,i)}})}),e[0].className&&(t.className=e[0].className),t}function u(e){var t=[];return e.forEach(function(e,n){var a=[];e.forEach(function(e,t){y.default.isUndefined(e.colMergeWith)&&y.default.isUndefined(e.rowMergeWith)&&a.push({rowIndex:n,colIndex:t})}),t.push(a)}),t}function i(e){var t=e[0];return t.map(function(e){return y.default.isExisty(e.colMergeWith)?t[e.colMergeWith].align:e.align})}function d(e,t){var n=i(e),a=t.map(function(t){return t.map(function(t){var a=t.rowIndex,r=t.colIndex;return y.default.extend({align:n[r]},e[a][r])})});return e.className&&(a.className=e.className),a}function c(e,t,n){return{nodeName:n||"TD",colspan:1,rowspan:1,content:_,elementIndex:{rowIndex:e,colIndex:t}}}function f(e){var t=e.closest("tr"),n=t.prevAll().length;return"TBODY"===t.parent()[0].nodeName&&(n+=1),n}function s(e){return e.closest("td, th").prevAll().length}function g(e,t){var n=f(t),a=s(t);return e[n][a]}function p(e,t,n){var a=e[t][n],r=t;return a.rowspan>1&&(r+=a.rowspan-1),r}function h(e,t,n){var a=e[t][n],r=n;return a.colspan>1&&(r+=a.colspan-1),r}function v(e,t,n){var a=e[t][n];return t=y.default.isExisty(a.rowMergeWith)?a.rowMergeWith:t,n=y.default.isExisty(a.colMergeWith)?a.colMergeWith:n,e[t][n].elementIndex}function m(e,t){e.forEach(function(e,n){var a=e.length,r=e[0].nodeName;y.default.range(a,t).forEach(function(t){e.push(c(n,t,r))})})}function x(e){var t=e[0],n=t.length,a=!0;if(!n&&e[1])y.default.range(0,e[1].length).forEach(function(e){t.push(c(0,e,"TH"))});else if("TH"!==e[0][0].nodeName){var r,o=y.default.range(0,n).map(function(e){return c(0,e,"TH")});(r=[]).concat.apply(r,e).forEach(function(e){e.elementIndex&&(e.elementIndex.rowIndex+=1)}),e.unshift(o)}else if(1===e.length){var l=y.default.range(0,n).map(function(e){return c(1,e,"TD")});e.push(l)}else a=!1;return a}Object.defineProperty(t,"__esModule",{value:!0}),t.createTableData=l,t.createCellIndexData=u;var b=n(0),w=a(b),I=n(2),y=a(I),_=y.default.browser.msie?"":"<br>";t.default={createTableData:l,createCellIndexData:u,createRenderData:d,findElementRowIndex:f,findElementColIndex:s,findCellIndex:g,createBasicCell:c,findRowMergedLastIndex:p,findColMergedLastIndex:h,findElementIndex:v,stuffCellsIntoIncompleteRow:m,addTbodyOrTheadIfNeed:x}},function(e,t){if(void 0===n){var a=new Error('Cannot find module "undefined"');throw a.code="MODULE_NOT_FOUND",a}e.exports=n},function(e,t){if(void 0===a){var n=new Error('Cannot find module "undefined"');throw n.code="MODULE_NOT_FOUND",n}e.exports=a},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e){var t=e.colspan>1?' colspan="'+e.colspan+'"':"";return t+=e.rowspan>1?' rowspan="'+e.rowspan+'"':"",t+=e.align?' align="'+e.align+'"':"","<"+e.nodeName+t+">"+e.content+"</"+e.nodeName+">"}function o(e,t){var n="";return e.length&&(n=e.map(function(e){return"<tr>"+e.map(r).join("")+"</tr>"}).join(""),n="<"+t+">"+n+"</"+t+">"),n}function l(e){var t=[e[0]],n=e.slice(1),a=o(t,"THEAD"),r=o(n,"TBODY");return"<table"+(e.className?' class="'+e.className+'"':"")+">"+(a+r)+"</renderData>"}function u(e,t){var n=s.default.createCellIndexData(t),a=s.default.createRenderData(t,n),r=(0,c.default)(l(a));return e.replaceWith(r),r}function i(e,t,n){t.selectNodeContents(n),t.collapse(!0),e.setSelection(t)}Object.defineProperty(t,"__esModule",{value:!0});var d=n(0),c=a(d),f=n(3),s=a(f);t.default={createTableHtml:l,replaceTable:u,focusToCell:i}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n){var a=h.default.createCellIndexData(e),r=h.default.findCellIndex(a,t),o=h.default.findCellIndex(a,n),l=void 0,u=void 0,i=void 0,d=void 0;return r.rowIndex>o.rowIndex?(l=o.rowIndex,u=r.rowIndex):(l=r.rowIndex,u=o.rowIndex),r.colIndex>o.colIndex?(i=o.colIndex,d=r.colIndex):(i=r.colIndex,d=o.colIndex),{start:{rowIndex:l,colIndex:i},end:{rowIndex:u,colIndex:d}}}function o(e,t,n){var a=t[n].rowIndex,r=e[a];g.default.range(t.start.colIndex,t.end.colIndex+1).forEach(function(n){var o=r[n],l=o.rowMergeWith,u=-1;g.default.isExisty(l)?(l<t.start.rowIndex&&(t.start.rowIndex=l),u=l+e[l][n].rowspan-1):o.rowspan>1&&(u=a+o.rowspan-1),u>t.end.rowIndex&&(t.end.rowIndex=u)})}function l(e,t,n,a){var r=e[n],o=r[a],l=o.colMergeWith,u=-1;g.default.isExisty(l)?(l<t.start.colIndex&&(t.start.colIndex=l),u=l+r[l].colspan-1):o.colspan>1&&(u=a+o.colspan-1),u>t.end.colIndex&&(t.end.colIndex=u)}function u(e,t){for(var n="";n!==JSON.stringify(t);)n=JSON.stringify(t),o(e,t,"start"),o(e,t,"end"),g.default.range(t.start.rowIndex,t.end.rowIndex+1).forEach(function(n){l(e,t,n,t.start.colIndex),l(e,t,n,t.end.colIndex)});return t}function i(e,t,n){return u(e,r(e,t,n))}function d(e,t,n){var a=h.default.createCellIndexData(e),r={};if(t.length){var o=h.default.findCellIndex(a,t.first()),l=g.default.extend({},o);t.each(function(t,n){var r=h.default.findCellIndex(a,(0,f.default)(n)),o=e[r.rowIndex][r.colIndex],u=r.rowIndex+o.rowspan-1,i=r.colIndex+o.colspan-1;l.rowIndex=Math.max(l.rowIndex,u),l.colIndex=Math.max(l.colIndex,i)}),r.start=o,r.end=l}else{var u=h.default.findCellIndex(a,n);r.start=u,r.end=g.default.extend({},u)}return r}Object.defineProperty(t,"__esModule",{value:!0});var c=n(0),f=a(c),s=n(2),g=a(s),p=n(3),h=a(p);t.default={findSelectionRange:i,getTableSelectionRange:d}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e){var t=e.eventManager;if(e.toMarkOptions=e.toMarkOptions||{},e.toMarkOptions.renderer=b.default,d(t),!e.isViewer()){var n=e.wwEditor.componentManager,a=e._ui.popupTableUtils;o(e),l(n),e._ui.popupTableUtils&&L.default.updateContextMenu(a,t,n.getManager("tableSelection"))}}function o(e){e.addCommand(j.default),e.addCommand(P.default)}function l(e){e.removeManager("table"),e.removeManager("tableSelection"),e.addManager(I.default),e.addManager(_.default)}function u(e,t){var n=(0,f.default)("<div>"+e+"</div>"),a=n.find("table");return a.length&&(a.get().forEach(function(e){var n=t(e);(0,f.default)(e).replaceWith(n)}),e=n.html()),e}function i(e){var t=e.command;if(t.isWWType())switch(t.getName()){case"AddRow":e.command=C.default;break;case"AddCol":e.command=E.default;break;case"RemoveRow":e.command=D.default;break;case"RemoveCol":e.command=N.default;break;case"AlignCol":e.command=R.default}}function d(e){e.listen("convertorAfterMarkdownToHtmlConverted",function(e){return u(e,h.default)}),e.listen("convertorBeforeHtmlToMarkdownConverted",function(e){return u(e,m.default)}),e.listen("addCommandBefore",i)}var c=n(0),f=a(c),s=n(1),g=a(s);n(50);var p=n(51),h=a(p),v=n(52),m=a(v),x=n(53),b=a(x),w=n(55),I=a(w),y=n(56),_=a(y),M=n(57),C=a(M),T=n(58),E=a(T),S=n(59),D=a(S),k=n(60),N=a(k),O=n(61),R=a(O),W=n(62),j=a(W),A=n(63),P=a(A),B=n(64),L=a(B);g.default.defineExtension("table",r)},function(e,t,n){"use strict";var a=n(1),r=function(e){return e&&e.__esModule?e:{default:e}}(a),o=r.default.i18n;o&&(o.setLanguage(["ko","ko_KR"],{"Merge cells":"셀 병합","Unmerge cells":"셀 병합해제","Cannot change part of merged cell":"병합 된 셀의 일부를 변경할 수 없습니다.","Cannot paste row merged cells into the table header":"테이블 헤더에는 행 병합된 셀을 붙여넣을 수 없습니다."}),o.setLanguage(["en","en_US"],{"Merge cells":"Merge cells","Unmerge cells":"Unmerge cells","Cannot change part of merged cell":"Cannot change part of merged cell.","Cannot paste row merged cells into the table header":"Cannot paste row merged cells into the table header."}),o.setLanguage(["ja","ja_JP"],{"Merge cells":"セルの結合","Unmerge cells":"セルの結合を解除","Cannot change part of merged cell":"結合されたセルの一部を変更することはできません。","Cannot paste row merged cells into the table header":"行にマージされたセルをヘッダーに貼り付けることはできません。"}),o.setLanguage(["nl","nl_NL"],{"Merge cells":"cellen samenvoegen","Unmerge cells":"Samenvoegen cellen ongedaan maken","Cannot change part of merged cell":"Kan geen deel uit van samengevoegde cel te veranderen.","Cannot paste row merged cells into the table header":"Kan niet plakken rij samengevoegde cellen in de koptekst. "}),o.setLanguage(["zh","zh_CN"],{"Merge cells":"合并单元格","Unmerge cells":"取消合并单元格","Cannot change part of merged cell":"无法更改合并单元格的一部分。","Cannot paste row merged cells into the table header":"无法将行合并单元格粘贴到标题中。"}))},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n){var a=new RegExp("^((?:"+n+"=[0-9]+:)?)"+t+"=([0-9]+):(.*)"),r=a.exec(e),o=1;return r&&(o=parseInt(r[2],10),e=r[1]+r[3]),[o,e]}function o(e){var t=e.nodeName,n=e.align||"",a=e.innerHTML.trim(),o=null,l=null,u=r(a,"@cols","@rows");o=u[0],a=u[1];var i=r(a,"@rows","@cols");return l=i[0],a=i[1],{nodeName:t,colspan:o,rowspan:l,content:a,align:n}}function l(e){return e.find("tr").get().map(function(e){return(0,p.default)(e).find("td, th").get().map(o)})}function u(e,t){var n=-1;return v.default.forEach(e,function(e,a){var r=!0;return t(e,a)&&(n=a,r=!1),r}),n}function i(e){var t=u(e,function(e){return"TD"===e[0].nodeName});return[e.slice(0,t),e.slice(t)]}function d(e){e.forEach(function(e){var t=e.length,n=0;e.forEach(function(e){n+=e.colspan-1}),e.splice(t-n)})}function c(e){var t=e.map(function(e,t){return t}),n=t.map(function(){return 0});return e.forEach(function(e,a){var r=e.filter(function(e){return e.rowspan>1}),o=a+1;r.forEach(function(e){var a=e.colspan,r=o+(e.rowspan-1);t.slice(o,r).forEach(function(e){n[e]+=a})})}),n}function f(e){var t=c(e);e.forEach(function(e,n){e.splice(e.length-t[n])})}function s(e){var t=l((0,p.default)(e)),n=i(t),a=n[0],r=n[1];return d(a),d(r),f(r),(0,p.default)(x.default.createTableHtml(t))[0]}Object.defineProperty(t,"__esModule",{value:!0}),t._extractPropertiesForMerge=r,t._parseTableCell=o,t._createTableObjectFrom$Table=l,t._divideTrs=i,t._mergeByColspan=d,t._getRemovalTdCountsByRowspan=c,t._mergeByRowspan=f,t.default=s;var g=n(0),p=a(g),h=n(2),v=a(h),m=n(6),x=a(m)},function(e,t,n){"use strict";function a(e){var t=(0,l.default)(e),n=t.attr("colspan")||"",a=t.attr("rowspan")||"",r=t.html();n&&(r="@cols="+n+":"+r),a&&(r="@rows="+a+":"+r),r&&t.html(r)}function r(e){return(0,l.default)(e).find("td, th").get().forEach(a),e}Object.defineProperty(t,"__esModule",{value:!0}),t._prependMergeSyntaxToContent=a,t.default=r;var o=n(0),l=function(e){return e&&e.__esModule?e:{default:e}}(o)},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){return f.default.range(0,t).map(function(){return e}).join("")}function o(e){var t=e.align,n=(e.textContent||e.innerText).replace(p,""),a=n.length,o="",l="";return t&&("left"===t?(o=":",a-=1):"right"===t?(l=":",a-=1):"center"===t&&(l=":",o=":",a-=2)),a=Math.max(a,3),o+r("-",a)+l}function l(e){var t=0;return e.filter(function(e){return(0,d.default)(e).attr("colspan")}).forEach(function(e){t+=parseInt((0,d.default)(e).attr("colspan"),10)-1}),t}function u(e,t){var n=(0,d.default)(e).find("th").get(),a=n.map(function(e){return" "+o(e)+" |"}).join("");return a+=r(" --- |",l(n)),t?t+"|"+a+"\n":""}Object.defineProperty(t,"__esModule",{value:!0}),t._getAdditionalThCount=l,t._createTheadMarkdown=u;var i=n(0),d=a(i),c=n(2),f=a(c),s=n(54),g=a(s),p=/@cols=[0-9]+:/g;t.default=g.default.Renderer.factory(g.default.gfmRenderer,{THEAD:u})},function(e,t){e.exports=r},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function u(e,t){var n=!1;return s.default.forEach(e,function(e){return!(n=t(e))}),n}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),d=n(0),c=a(d),f=n(2),s=a(f),g=n(1),p=a(g),h=n(3),v=a(h),m=n(6),x=a(m),b=n(7),w=a(b),I=p.default.WwTableManager,y=p.default.i18n,_=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),i(t,[{key:"_updateCopyDataMergeWith",value:function(e,t){e.forEach(function(e){e.forEach(function(e){s.default.isExisty(e.rowMergeWith)&&(e.rowMergeWith-=t.rowIndex),s.default.isExisty(e.colMergeWith)&&(e.colMergeWith-=t.colIndex)})})}},{key:"_createCopyTableData",value:function(e,t,n){var a=e.slice(t.rowIndex,n.rowIndex+1);return a=a.map(function(e){return e.slice(t.colIndex,n.colIndex+1)}),this._updateCopyDataMergeWith(a,t),a}},{key:"updateTableHtmlOfClipboardIfNeed",value:function(e){var t=this.wwe.componentManager.getManager("tableSelection").getSelectedCells();if(t.length){var n=v.default.createTableData((0,c.default)(t[0]).closest("TABLE")),a=w.default.getTableSelectionRange(n,t),r=a.start,o=a.end,l=this._createCopyTableData(n,r,o),u=v.default.createCellIndexData(l),i=v.default.createRenderData(l,u);e.html(x.default.createTableHtml(i))}}},{key:"prepareToTableCellStuffing",value:function(e){var t=e[0].length,n=!1;return e.slice(1).forEach(function(e){var a=e.length;t!==a&&(n=!0,t<a&&(t=a))}),{maximumCellLength:t,needTableCellStuffingAid:n}}},{key:"tableCellAppendAidForTableElement",value:function(e){var t=(0,c.default)(e),n=v.default.createTableData(t),a=v.default.addTbodyOrTheadIfNeed(n),r=this.prepareToTableCellStuffing(n),o=r.needTableCellStuffingAid;o&&v.default.stuffCellsIntoIncompleteRow(n,r.maximumCellLength),(a||o)&&x.default.replaceTable(t,n)}},{key:"_findStartCell",value:function(e){return 1===e.length?e.get(0):this.wwe.getEditor().getSelection().startContainer}},{key:"_findStartCellIndex",value:function(e,t){var n=v.default.createCellIndexData(e);return v.default.findCellIndex(n,t)}},{key:"_hasRowMergedHeader",value:function(e,t,n){var a="TH"===t[n.rowIndex][n.colIndex].nodeName,r=u(e[0],function(e){return e.rowspan&&e.rowspan>1});return a&&r}},{key:"_isExactlyFit",value:function(e,t,n){return t%e.length==0&&n%e[0].length==0}},{key:"_updateClipboardTableData",value:function(e,t,n){var a=e.length,r=e[0].length,o=parseInt(t/a,10),l=parseInt(n/r,10);if(o>1){var u=JSON.parse(JSON.stringify(e));s.default.range(0,o-1).forEach(function(){var t=JSON.parse(JSON.stringify(u));e.push.apply(e,t)})}if(l>1){var i=JSON.parse(JSON.stringify(e));s.default.range(0,l-1).forEach(function(){var t=JSON.parse(JSON.stringify(i));e.forEach(function(e,n){e.push.apply(e,t[n])})})}}},{key:"_updateTableDataByClipboardData",value:function(e,t,n){var a=n.rowIndex,r=n.colIndex;e.forEach(function(e,n){var o=a+n;e.forEach(function(e,n){var a=r+n,l=t[o][a];e.nodeName=l.nodeName,t[o][a]=e})})}},{key:"_isPossibleToPaste",value:function(e,t,n){var a=t.rowIndex,r=t.colIndex,o=n.rowIndex,l=n.colIndex,i=e.slice(a,o+1),d=i[0].slice(r,l+1),c=!u(d,function(e){return s.default.isExisty(e.rowMergeWith)});if(c){c=!u(s.default.pluck(i,r),function(e){return s.default.isExisty(e.colMergeWith)})}if(c&&e.length>o+1){c=!u(e[o+1].slice(r,l+1),function(e){return s.default.isExisty(e.rowMergeWith)})}if(c&&e[0].length>l+1){c=!u(s.default.pluck(i,l+1),function(e){return s.default.isExisty(e.colMergeWith)})}return c}},{key:"_spliceClipboardData",value:function(e,t,n){e.splice(t),e.forEach(function(e){e.splice(n)})}},{key:"_bookmarkLastTd",value:function(e){var t=e.rowIndex,n=e.colIndex,a=this.wwe.getEditor(),r=a.get$Body().find(".tui-paste-table-bookmark"),o=v.default.createTableData(r),l=o[t][n];t=s.default.isExisty(l.rowMergeWith)?l.rowMergeWith:t,n=s.default.isExisty(l.colMergeWith)?l.colMergeWith:n;var u=o[t][n].elementIndex,i=r.find("tr").eq(u.rowIndex).children()[u.colIndex];r.removeClass("tui-paste-table-bookmark"),(0,c.default)(i).addClass("tui-paste-table-cell-bookmark")}},{key:"_updateClipboardDataForPasteToSamllerSelectedArea",value:function(e,t,n,a,r){var o=!0,l={rowIndex:0,colIndex:0},u={rowIndex:n-1,colIndex:a-1};return this._isPossibleToPaste(e,l,u)?(this._spliceClipboardData(e,n,a),this._updateTableDataByClipboardData(e,t,r)):o=!1,o}},{key:"_pasteToSelectedArea",value:function(e,t,n,a){var r=w.default.getTableSelectionRange(n,a),o=r.start,l=r.end,u=l.rowIndex-o.rowIndex+1,i=l.colIndex-o.colIndex+1,d=t.length,c=t[0].length,f=u>=d&&i>=c,s=y.get("Cannot change part of merged cell"),g=!0,p=void 0;this._hasRowMergedHeader(t,n,o)?(s=y.get("Cannot paste row merged cells into the table header"),g=!1):this._isExactlyFit(t,u,i)?(p=l,this._updateClipboardTableData(t,u,i),this._updateTableDataByClipboardData(t,n,o)):f?(p={rowIndex:o.rowIndex+d-1,colIndex:o.colIndex+c-1},this._isPossibleToPaste(n,o,p)?this._updateTableDataByClipboardData(t,n,o):g=!1):(p={rowIndex:o.rowIndex+u-1,colIndex:o.colIndex+i-1},g=this._updateClipboardDataForPasteToSamllerSelectedArea(t,n,u,i,o)),g?(n.className+=" tui-paste-table-bookmark",x.default.replaceTable(e,n),this._bookmarkLastTd(p)):(alert(s),this.wwe.focus())}},{key:"_findEndCellIndex",value:function(e,t){var n=t.rowIndex,a=t.colIndex;return{rowIndex:n+e.length-1,colIndex:a+e[0].length-1}}},{key:"_expandRow",value:function(e,t){var n=e.length,a=e[0].length,r=s.default.range(n,n+t).map(function(e){return s.default.range(0,a).map(function(t){return v.default.createBasicCell(e,t)})});e.push.apply(e,r)}},{key:"_expandCoumn",value:function(e,t){var n=e[0].length,a=s.default.range(n,n+t);e.forEach(function(e,t){var n=e[0].nodeName,r=a.map(function(e){return v.default.createBasicCell(t,e,n)});e.push.apply(e,r)})}},{key:"_expandTableDataIfNeed",value:function(e,t,n){var a=n.rowIndex-e.length+1,r=n.colIndex-e[0].length+1;a>0&&this._expandRow(e,a),r>0&&this._expandCoumn(e,r)}},{key:"_pasteAllClipboardTableData",value:function(e,t,n,a){var r=this._findEndCellIndex(t,a);if(this._hasRowMergedHeader(t,n,a))return alert(y.get("Cannot paste row merged cells into the table header")),void this.wwe.focus();this._expandTableDataIfNeed(n,a,r),this._isPossibleToPaste(n,a,r)?(this._updateTableDataByClipboardData(t,n,a),n.className+=" tui-paste-table-bookmark",x.default.replaceTable(e,n),this._bookmarkLastTd(r)):(alert(y.get("Cannot change part of merged cell")),this.wwe.focus())}},{key:"pasteClipboardData",value:function(e){var t=v.default.createTableData(e),n=this.wwe.componentManager.getManager("tableSelection"),a=n.getSelectedCells(),r=(0,c.default)(this._findStartCell(a)),o=r.closest("table"),l=v.default.createTableData(o),u=this._findStartCellIndex(l,r);a.length>1?this._pasteToSelectedArea(o,t,l,a):this._pasteAllClipboardTableData(o,t,l,u)}}]),t}(I);t.default=_},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=n(0),d=a(i),c=n(2),f=a(c),s=n(1),g=a(s),p=n(3),h=a(p),v=n(7),m=a(v),x=g.default.WwTableSelectionManager,b=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n._tableData=null,n.mergedTableSelectionManager=!0,n}return l(t,e),u(t,[{key:"_addClassToSelectedCells",value:function(e,t,n){var a=n.start,r=n.end,o=f.default.range(a.colIndex,r.colIndex+1),l=e.find("tr");f.default.range(a.rowIndex,r.rowIndex+1).forEach(function(e){var n=t[e],a=l.eq(e).find("td, th");return o.forEach(function(e){n[e].elementIndex&&a.eq(n[e].elementIndex.colIndex).addClass("te-cell-selected")})})}},{key:"onDragStart",value:function(e){var t=(0,d.default)(e).closest("[contenteditable=true] table");this._tableData=h.default.createTableData(t)}},{key:"onDragEnd",value:function(){this._tableData=null}},{key:"highlightTableCellsBy",value:function(e,t){var n=(0,d.default)(e),a=(0,d.default)(t),r=n.closest("[contenteditable=true] table"),o=m.default.findSelectionRange(this._tableData,n,a);this.removeClassAttrbuteFromAllCellsIfNeed(),this._addClassToSelectedCells(r,this._tableData,o)}},{key:"styleToSelectedCells",value:function(e){var t=this.wwe.getEditor(),n=t.getSelection().cloneRange();(0,d.default)(n.startContainer).closest("[contenteditable=true] table").find("tr").get().forEach(function(a){var r=(0,d.default)(a).find(".te-cell-selected"),o=r.first().get(0),l=r.last().get(0);r.length&&(n.setStart(o,0),n.setEnd(l,l.childNodes.length),t.setSelection(n),e(t))})}},{key:"hasSelectedBothThAndTd",value:function(e){return e=e||this.getSelectedCells(),e.first()[0].nodeName!==e.last()[0].nodeName}}]),t}(x);t.default=b},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e){return{nodeName:"TD",rowMergeWith:e}}function o(e,t){var n=null;return e[t].map(function(a,o){var l=void 0;if(f.default.isExisty(a.rowMergeWith)){var u=a.rowMergeWith,i=e[u][o],d=u+i.rowspan-1;f.default.isExisty(i.colMergeWith)&&n?l=f.default.extend({},n):d>t&&(i.rowspan+=1,l=f.default.extend({},a))}else a.rowspan>1&&(a.rowspan+=1,l=r(t));return l||(l=h.default.createBasicCell(t+1,o)),n=l,l})}function l(e,t){var n=t.start.rowIndex,a=t.end,r=h.default.findRowMergedLastIndex(e,a.rowIndex,a.colIndex),l=f.default.range(n,r+1).map(function(){return o(e,r)});e.splice.apply(e,[r+1,0].concat(l))}function u(e,t,n){var a=h.default.createTableData(e),r=h.default.findRowMergedLastIndex(a,t,n)+1,o=h.default.findElementIndex(a,r,n);return e.find("tr").eq(o.rowIndex).find("td")[o.colIndex]}Object.defineProperty(t,"__esModule",{value:!0}),t._createNewRow=o,t._addRow=l;var i=n(0),d=a(i),c=n(2),f=a(c),s=n(1),g=a(s),p=n(3),h=a(p),v=n(7),m=a(v),x=n(6),b=a(x),w=g.default.CommandManager,I=void 0;w&&(I=w.command("wysiwyg",{name:"AddRow",exec:function(e){var t=e.getEditor(),n=t.getSelection().cloneRange();if(e.focus(),t.hasFormat("TABLE")){var a=(0,d.default)(n.startContainer),r=a.closest("table"),o=h.default.createTableData(r),i=e.componentManager.getManager("tableSelection").getSelectedCells(),c=m.default.getTableSelectionRange(o,i,a);t.saveUndoState(n),l(o,c);var f=b.default.replaceTable(r,o),s=u(f,c.end.rowIndex,c.start.colIndex);b.default.focusToCell(t,n,s)}}})),t.default=I},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){return{nodeName:t,colMergeWith:e}}function o(e,t,n,a){var o=e[n],l=void 0;if(s.default.isExisty(o.colMergeWith)){var u=o.colMergeWith,i=e[u],d=u+i.colspan-1;s.default.isExisty(i.rowMergeWith)&&a?l=s.default.extend({},a):d>n&&(i.colspan+=1,l=s.default.extend({},o))}else o.colspan>1&&(o.colspan+=1,l=r(n,o.nodeName));return l||(l=v.default.createBasicCell(t,n+1,o.nodeName)),l}function l(e,t,n){var a=s.default.range(t,n+1),r=[],l=null;return e.forEach(function(e,t){var u=a.map(function(a,r){var u=l?l[r-1]:null;return o(e,t,n,u)});l=u,r.push(u)}),r}function u(e,t){var n=t.end,a=v.default.findColMergedLastIndex(e,n.rowIndex,n.colIndex),r=l(e,t.start.colIndex,a),o=a+1;e.forEach(function(e,t){e.splice.apply(e,[o,0].concat(r[t]))})}function i(e,t,n){var a=v.default.createTableData(e),r=v.default.findColMergedLastIndex(a,t,n)+1,o=v.default.findElementIndex(a,t,r);return e.find("tr").eq(o.rowIndex).find("td, th")[o.colIndex]}Object.defineProperty(t,"__esModule",{value:!0}),t._createNewColumns=l,t._addColumns=u;var d=n(0),c=a(d),f=n(2),s=a(f),g=n(1),p=a(g),h=n(3),v=a(h),m=n(7),x=a(m),b=n(6),w=a(b),I=p.default.CommandManager,y=void 0;I&&(y=I.command("wysiwyg",{name:"AddCol",exec:function(e){var t=e.getEditor(),n=t.getSelection().cloneRange();if(e.focus(),t.hasFormat("TABLE")){var a=(0,c.default)(n.startContainer),r=a.closest("table"),o=v.default.createTableData(r),l=e.componentManager.getManager("tableSelection").getSelectedCells(),d=x.default.getTableSelectionRange(o,l,a);t.saveUndoState(n),u(o,d);var f=w.default.replaceTable(r,o),s=i(f,d.start.rowIndex,d.end.colIndex);w.default.focusToCell(t,n,s)}}})),t.default=y},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n){f.default.range(t,n+1).forEach(function(t){e[t].forEach(function(a,r){if(f.default.isExisty(a.rowMergeWith)){var o=e[a.rowMergeWith][r];o.rowspan&&(o.rowspan-=1)}else if(a.rowspan>1){var l=t+a.rowspan-1;a.rowspan-=n-t+1,l>n&&(e[n+1][r]=f.default.extend({},a))}})})}function o(e,t,n){e.slice(n+1).forEach(function(e){e.forEach(function(e){f.default.isExisty(e.rowMergeWith)&&e.rowMergeWith>=t&&(e.rowMergeWith=n+1)})})}function l(e,t){var n=t.start.rowIndex,a=t.end,l=h.default.findRowMergedLastIndex(e,a.rowIndex,a.colIndex);if(0!==n||0!==l){n=Math.max(n,1),l=Math.max(l,1);var u=l-n+1;e.length-u<2?e.splice(0,e.length):(r(e,n,l),o(e,n,l),e.splice(n,u))}}function u(e,t,n){var a=h.default.createTableData(e);a.length-1<t&&(t-=1);var r=h.default.findElementIndex(a,t,n);return e.find("tr").eq(r.rowIndex).find("th,td")[r.colIndex]}Object.defineProperty(t,"__esModule",{value:!0}),t._removeRow=l;var i=n(0),d=a(i),c=n(2),f=a(c),s=n(1),g=a(s),p=n(3),h=a(p),v=n(7),m=a(v),x=n(6),b=a(x),w=g.default.CommandManager,I=void 0;w&&(I=w.command("wysiwyg",{name:"RemoveRow",exec:function(e){var t=e.getEditor(),n=t.getSelection().cloneRange();if(e.focus(),t.hasFormat("TABLE")){var a=(0,d.default)(n.startContainer),r=a.closest("table"),o=h.default.createTableData(r),i=o.length,c=e.componentManager.getManager("tableSelection").getSelectedCells(),f=m.default.getTableSelectionRange(o,c,a);if(t.saveUndoState(n),l(o,f),o.length<2)r.remove();else if(i!==o.length){var s=b.default.replaceTable(r,o),g=f.start.rowIndex,p=g<o.length?g:g-1,v=u(s,p,f.start.colIndex);b.default.focusToCell(t,n,v)}}}})),t.default=I},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n){e.forEach(function(e){f.default.range(t,n+1).forEach(function(t){var a=e[t];if(f.default.isExisty(a.colMergeWith)){var r=e[a.colMergeWith];r.colspan&&(r.colspan-=1)}else if(a.colspan>1){var o=t+a.colspan-1;a.colspan-=n-t+1,o>n&&(e[n+1]=f.default.extend({},a))}})})}function o(e,t,n){e.forEach(function(e){e.slice(n+1).forEach(function(e){f.default.isExisty(e.colMergeWith)&&e.colMergeWith>=t&&(e.colMergeWith=n+1)})})}function l(e,t){var n=t.start.colIndex,a=t.end,l=h.default.findColMergedLastIndex(e,a.rowIndex,a.colIndex),u=l-n+1;r(e,n,l),o(e,n,l),e.forEach(function(e){e.splice(n,u)})}function u(e,t,n){var a=h.default.createTableData(e);a[0].length-1<n&&(n-=1);var r=h.default.findElementIndex(a,t,n);return e.find("tr").eq(r.rowIndex).find("td, th")[r.colIndex]}Object.defineProperty(t,"__esModule",{value:!0}),t._removeColumns=l;var i=n(0),d=a(i),c=n(2),f=a(c),s=n(1),g=a(s),p=n(3),h=a(p),v=n(7),m=a(v),x=n(6),b=a(x),w=g.default.CommandManager,I=void 0;w&&(I=w.command("wysiwyg",{name:"RemoveCol",exec:function(e){var t=e.getEditor(),n=t.getSelection().cloneRange();if(e.focus(),t.hasFormat("TABLE")){var a=(0,d.default)(n.startContainer),r=a.closest("table"),o=h.default.createTableData(r),i=e.componentManager.getManager("tableSelection").getSelectedCells(),c=m.default.getTableSelectionRange(o,i,a),f=o[0].length;if(t.saveUndoState(n),l(o,c),0===o[0].length)r.remove();else if(f!==o[0].length){var s=b.default.replaceTable(r,o),g=c.start.colIndex,p=g>=o[0].length?g-1:g,v=u(s,c.start.rowIndex,p);b.default.focusToCell(t,n,v)}}}})),t.default=I},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n,a){d.default.range(t,n+1).forEach(function(t){var n=e[t];d.default.isExisty(n.colMergeWith)?e[n.colMergeWith].align=a:n.align=a})}function o(e,t){var n=g.default.findElementRowIndex(t),a=g.default.findElementColIndex(t);return e.find("tr").eq(n).find("td, th")[a]}Object.defineProperty(t,"__esModule",{value:!0});var l=n(0),u=a(l),i=n(2),d=a(i),c=n(1),f=a(c),s=n(3),g=a(s),p=n(7),h=a(p),v=n(6),m=a(v),x=f.default.CommandManager,b=void 0;x&&(b=x.command("wysiwyg",{name:"AlignCol",exec:function(e,t){var n=e.getEditor(),a=n.getSelection().cloneRange();if(e.focus(),n.hasFormat("TABLE")){var l=(0,u.default)(a.startContainer),i=l.closest("table"),d=g.default.createTableData(i),c=e.componentManager.getManager("tableSelection").getSelectedCells(),f=h.default.getTableSelectionRange(d,c,l);r(d[0],f.start.colIndex,f.end.colIndex,t);var s=m.default.replaceTable(i,d),p=o(s,l);m.default.focusToCell(n,a,p)}}})),t.default=b},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n){var a,r=n+1,o=(a=[]).concat.apply(a,e.map(function(e){return e.slice(t,r)})),l=o.filter(function(e){var t=e.content;return t&&t!==_});return l.length?l[0].content:_}function o(e,t,n){var a,r=n+1,o=e.map(function(e){return e.slice(t,r)});(a=[]).concat.apply(a,o).slice(1).forEach(function(e){var t=e.nodeName;g.default.forEach(e,function(t,n){return delete e[n]}),e.nodeName=t})}function l(e,t,n,a){var r=n+1;e.forEach(function(e){e.slice(t,r).forEach(function(e){e.rowMergeWith=a})})}function u(e,t,n,a){var r=n+1;e.forEach(function(e){e.slice(t,r).forEach(function(e){e.colMergeWith=a})})}function i(e,t){var n=t.start,a=t.end,i=n.rowIndex,d=n.colIndex,c=a.rowIndex,f=a.colIndex,s=e[i][d],g=e.slice(i,c+1),p=c-i+1,h=f-d+1;s.rowspan=p,s.colspan=h,s.content=r(g,d,f),o(g,d,f),p>1&&l(g.slice(1),d,f,i),h>1&&u(g,d+1,f,d)}function d(e,t,n){var a=m.default.createTableData(e),r=m.default.findElementIndex(a,t,n);return e.find("tr").eq(r.rowIndex).find("td, th")[r.colIndex]}Object.defineProperty(t,"__esModule",{value:!0}),t._mergeCells=i;var c=n(0),f=a(c),s=n(2),g=a(s),p=n(1),h=a(p),v=n(3),m=a(v),x=n(7),b=a(x),w=n(6),I=a(w),y=h.default.CommandManager,_=g.default.browser.msie?"":"<br>",M=void 0;y&&(M=y.command("wysiwyg",{name:"MergeCells",exec:function(e){var t=e.getEditor();if(e.focus(),t.hasFormat("TABLE")){var n=e.componentManager.getManager("tableSelection"),a=n.getSelectedCells();if(!(a.length<2||n.hasSelectedBothThAndTd(a))){var r=t.getSelection().cloneRange(),o=(0,f.default)(r.startContainer),l=o.closest("table"),u=m.default.createTableData(l),c=b.default.getTableSelectionRange(u,a,o);i(u,c);var s=I.default.replaceTable(l,u),g=d(s,c.start.rowIndex,c.start.colIndex);I.default.focusToCell(t,r,g)}}}})),t.default=M},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){var n,a=t.start,r=t.end,o=a.colIndex,l=r.colIndex+1,u=e.slice(a.rowIndex,r.rowIndex+1),i=u.map(function(e){return e.slice(o,l)});return!!(n=[]).concat.apply(n,i).filter(function(e){return e.colspan>1||e.rowspan>1}).length}function o(e,t,n,a,r){var o=t+a,l=n+r,u=f.default.range(n,l);f.default.range(t,o).forEach(function(n){var a=e[n],r=n===t?1:0;u.slice(r).forEach(function(e){a[e]=h.default.createBasicCell(n,e,a[e].nodeName)})})}function l(e,t){var n=t.start,a=t.end,r=f.default.range(n.colIndex,a.colIndex+1);f.default.range(n.rowIndex,a.rowIndex+1).forEach(function(t){r.forEach(function(n){var a=e[t][n],r=a.colspan,l=a.rowspan;(r>1||l>1)&&(a.colspan=1,a.rowspan=1,o(e,t,n,l,r))})})}function u(e,t,n){var a=h.default.createTableData(e),r=h.default.findElementIndex(a,t,n);return e.find("tr").eq(r.rowIndex).find("td, th")[r.colIndex]}Object.defineProperty(t,"__esModule",{value:!0}),t._hasMergedCell=r,t._unmergeCells=l;var i=n(0),d=a(i),c=n(2),f=a(c),s=n(1),g=a(s),p=n(3),h=a(p),v=n(7),m=a(v),x=n(6),b=a(x),w=g.default.CommandManager,I=void 0;w&&(I=w.command("wysiwyg",{name:"UnmergeCells",exec:function(e){var t=e.getEditor(),n=t.getSelection().cloneRange();if(e.focus(),t.hasFormat("TABLE")){var a=(0,d.default)(n.startContainer),o=a.closest("table"),i=h.default.createTableData(o),c=e.componentManager.getManager("tableSelection").getSelectedCells(),f=m.default.getTableSelectionRange(i,c,a);if(r(i,f)){l(i,f);var s=b.default.replaceTable(o,i),g=u(s,f.start.rowIndex,f.start.colIndex);b.default.focusToCell(t,n,g)}}}})),t.default=I},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e){var t=['<button type="button" class="te-table-add-row">'+f.get("Add row")+"</button>",'<button type="button" class="te-table-add-col">'+f.get("Add col")+"</button>",'<button type="button" class="te-table-remove-row">'+f.get("Remove row")+"</button>",'<button type="button" class="te-table-remove-col">'+f.get("Remove col")+"</button>","<hr/>",'<button type="button" class="te-table-merge">'+f.get("Merge cells")+"</button>",'<button type="button" class="te-table-unmerge">'+f.get("Unmerge cells")+"</button>","<hr/>",'<button type="button" class="te-table-col-align-left">'+f.get("Align left")+"</button>",'<button type="button" class="te-table-col-align-center">'+f.get("Align center")+"</button>",'<button type="button" class="te-table-col-align-right">'+f.get("Align right")+"</button>","<hr/>",'<button type="button" class="te-table-remove">'+f.get("Remove table")+"</button>"].join(""),n=(0,i.default)(t);e.setContent(n)}function o(e,t,n){var a=e.$content,r=(0,i.default)(a[5]),o=(0,i.default)(a[6]),l=(0,i.default)(a[7]);e.on("click .te-table-merge",function(){t.emit("command","MergeCells")}),e.on("click .te-table-unmerge",function(){t.emit("command","UnmergeCells")}),t.listen("openPopupTableUtils",function(){var e=n.getSelectedCells(),t=e.length;t?(t<2||n.hasSelectedBothThAndTd(e)?r.hide():r.show(),e.is("[rowspan], [colspan]")?o.show():o.hide(),l.show()):(r.hide(),o.hide(),l.hide())})}function l(e,t,n){r(e),o(e,t,n)}Object.defineProperty(t,"__esModule",{value:!0});var u=n(0),i=a(u),d=n(1),c=a(d),f=c.default.i18n;t.default={updateContextMenu:l}}])});